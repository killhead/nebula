# NebulaGraph StorageD Configuration
# Storage service configuration for data persistence

# Include main configuration
--flagfile=/usr/local/nebula/etc/nebula.conf

# StorageD specific settings
--port=9779
--ws_http_port=19779

# Daemon settings
--daemonize=false
--pid_file=/tmp/nebula-storaged.pid

# Meta service settings
--meta_server_addrs=127.0.0.1:9559
--local_ip=0.0.0.0

# Data and log paths
--data_path=/data
--log_dir=/logs

# Storage settings
--rocksdb_batch_size=4096
--rocksdb_block_cache=67108864
--rocksdb_index_block_cache=134217728
--rocksdb_filter_block_cache=134217728

# Compaction settings
--rocksdb_target_file_size_base=67108864
--rocksdb_max_bytes_for_level_base=268435456
--rocksdb_max_background_jobs=4
--rocksdb_max_subcompactions=1

# Memory settings
--max_handlers_per_req=32
--max_connections_per_ip_per_second=1024

# Network settings
--tcp_nodelay=true
--socket_send_buffer_size=65536
--socket_recv_buffer_size=65536

# Logging
--log_level=INFO
--v=0

# Performance settings
--num_netio_threads=4
--num_accept_threads=1
--num_worker_threads=4

# Heartbeat settings
--heartbeat_interval_secs=10
